## 更新日志

### V4.0.4
*2018-07-03*

- 新增生成扫码支付二维码功能
- 新增小程序授权获取手机号接口
- 一些细节优化

### V4.0.3
*2018-06-05*

- 新增生成小程序码接口
- 新增小程序微信支付相关逻辑
- 新增收集小程序formid接口，用于发送模板通知
- 新增自定义菜单跳转到小程序逻辑


### V4.0.2
*2018-05-22*

- 新增创建插件时生成示例小程序模板的功能
- 新增生成小程序二维码的sdk、函数和接口
- 新增Redis支持，插件配置信息保存时同步到Redis
- 新增小程序支付参数配置、支付记录管理功能
- 新增小程序模板消息管理功能
- 新增多公众号下拉切换功能
- 修复了粉丝昵称带表情插入不成功的问题
- 调整了插件侧边栏导航显示
- 视图方法添加默认参数，修复了php7安装报错的问题

### V4.0.1
*2018-05-15*

- 修复了取消关注事件清除粉丝信息的问题。
- 修复登录报错的问题
- 新增了在创建插件指定插件类型为公众号还是小程序的功能
- 新增了创建插件时生成Api控制器模板功能
- 优化了生成插件模板的业务逻辑

### V4.0.0
*2018-05-08*

- 新增小程序开发功能
- 优化微信支付异步通知逻辑
- 修复支付可篡改数据漏洞
- 插件新增ApiBase通用接口控制器
- 新增小程序Demo插件
- 修复用户昵称带表情不能插入数据表的问题

### V3.1.1
*2017-02-23*
- 新增发送模板消息功能

*2017-01-20*
- 修复bug issue#3
- 修改粉丝绑定页面样式引入问题

### V3.1.0
*2017-01-16*
- 修改支付记录显示
- 添加企业付款和现金红包支付功能

*2017-01-11*
- 新增数据预处理功能

*2017-01-06*
- 修改cdn引入js资源的钩子
- 修改生成插件跳转链接相关的函数

*2016-12-29*
- 新增插件api通用控制器

*2016-12-27*
- 修改gitignore文件

*2016-12-26*
- 修改插件的display方法，支持输出视图到二级模板

*2016-12-22*
- 增加控制页面是否限制在微信浏览器访问开关
- 修改导入css和js的行为类，采用cdn加速的方式

*2016-12-21*
- 删除Addons目录下的自带插件


### V3.0.0
*2016-12-07*
- 调整消息响应上下文机制

*2016-11-29*
- 新增了file类型的通用视图组件
- 新增了创建插件时上传logo的功能

*2016-11-24*
- 为兼容低版本php，对数组获取逻辑进行了简单调整
- 修改新增公众号成功后跳转逻辑
- 修改发布自定义菜单失败时的错误说明

*2016-11-23*
- 修复粉丝绑定报错问题

*2016-11-21*
- 新增了CHANGELOG.md文件，用于记录框架更新日志

*2016-11-13*
- 修复通用数据列表分页调整问题，支持为分页参数设置查询条件
- 新增通过插件形式扩展公众号管理后台侧边栏选项功能
- 新增通用数据列表搜索功能

*2016-11-08*
- 新增获取用户积分的函数

*2016-11-08*
- 修复SITE_URL全局变量值错误问题

*2016-10-24*
- 上传了一些通用插件
- 调整了未识别回复逻辑
- 调整了插件访问权限逻辑
- 插件功能入口新增了mpid参数
- 插件后台新增了meta_title设置
- 调整js、css导入钩子，换成cdn形式
- 修改数据库安装文件，取消“关注事件”字段必须限制
- 新增create_mobile_url函数